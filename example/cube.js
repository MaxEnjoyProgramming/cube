/*!
 * Cube v2.0.0-alpha.5
 */
!function(g,e,a,c,h,f,b,j,i){function k(){}function l(n,p){if(arguments.length===1)return b.fireModule(n);var o=b.fireModule(n);d.css(o,p,n)}function m(p,n,o){arguments.length===2&&typeof n==='function'?(o=n,n=null,d.use(p,o)):d.use(p,function(q){q=d.css(q,n,p),o&&o(q)})}function d(n,o,r){var p=!1;if(arguments.length===3){c[n]||(c[n]={exports:{},loaded:!1,fired:!1},p=!0,o.length&&console.info('Cube '+o+' should exist.'));var q=c[n];q.fn=r,q.loaded=!0,p||b.load(o)}}a={base:'',remoteBase:{},remoteSeparator:':',charset:'utf-8',version:+new Date,entrances:{}},c={},h=document.querySelector('head'),f=!1,b={reBase:function(o){var n=o.indexOf(a.remoteSeparator);return n>0?a.remoteBase[o.substr(0,n)]+o.substr(n+1):''},fixUseModPath:function(o){typeof o==='string'&&(o=[o]);var q=o.length,n;for(var p=0;p<q;p++)n=o[p],n.indexOf(a.remoteSeparator)===-1&&(n.indexOf('./')===0?n=n.substr(1):n[0]!=='/'&&(n='/'+n));return o},checkAllDownloaded:function(){var n=0;for(var o in c)c[o].loaded||n++;return n},load:function(n){typeof n==='string'&&(n=[n]),n.forEach(function(p){if(c[p])return;var o=document.createElement('script');o.type='text/javascript',o.async='true',o.charset=a.charset;var q=b.reBase(p),r=[q||a.base+p,'?m=1&',a.version].join('');o.src=r,h.appendChild(o),c[p]={exports:{},loaded:!1,fired:!1}}),b.checkAllDownloaded()===0&&b.startAppAndCallback()},fireModule:function(o){var n=c[o];return n?(n.fired||(n.fired=!0,n.exports=n.fn.apply(g,[n,n.exports,l,m])),n.exports):void 0},startAppAndCallback:function(){if(f)return;f=!0;var n=a.entrances,o,p;for(o in n)p=o.split(','),p.forEach(function(r){var q=0;b.fireModule(r),n[o].forEach(function(t){var s=t(c[r].exports);s&&q++}),n[o].length===q&&delete n[o]});f=!1}},d.init=function(n){if(n.base&&n.base!=='/'&&(a.base=n.base.replace(/\/$/,'')),n.remoteBase)for(var o in n.remoteBase)a.remoteBase[o]=n.remoteBase[o].replace(/\/$/,'');return n.charset&&(a.charset=n.charset),n.version&&(a.version=n.version),this},d.use=function(n,o){if(!n)throw new Error('Cube.use(moduleName) moduleName is undefined!');return o=o||k,n=b.fixUseModPath(n),b.load(n),a.entrances[n]||(a.entrances[n]=[]),a.entrances[n].push(function(p,q){return p=[],q=n.length,function(r){return p.push(r),p.length===q?(o.apply(g,p),!0):void 0}}()),b.checkAllDownloaded()===0&&b.startAppAndCallback(),this},d.register=function(n,o){return c[n]?console.error('module already registered:',n):(c[n]={exports:o,fn:k,loaded:!0,fired:!0},this)},j=/([^};]+)(\{[^}]+\})/g,i={},d.css=function(o,p,r){if(!o)return;var q=r+'@'+p;if(i[q])return;i[q]=!0,p&&(o=o.replace(j,function(v,t,u){var s=t.split(',').map(function(w){return p+' '+w.trim()});return s.join(',')+u}));var n=document.createElement('style');return n.setAttribute('type','text/css'),n.setAttribute('mod',r),p&&n.setAttribute('ns',p),h.appendChild(n),n.innerHTML=o,o},e=e||'Cube',g[e]?console.log('window.'+e+' already in using, replace the last "null" param in cube.js'):g[e]=d}(window,null)