/*!
 * Cube v2.0.0-alpha.8
 */
!function(g,e,a,b,i,h,d,l,j,k,f){function m(){}function n(a,e){if(arguments.length===1)return d.fireModule(a);var b=d.fireModule(a);c.css(b,e,a)}function o(d,a,b){arguments.length===2&&typeof a==='function'?(b=a,a=null,c.use(d,b)):c.use(d,function(e){e=c.css(e,a,d),b&&b(e)})}function c(c,e,h){var f=!1;if(arguments.length===3){b[c]||(b[c]={exports:{},loaded:!1,fired:!1},f=!0,e.length&&a.debug&&console.info('Cube '+e+' should exist.'));var g=b[c];g.fn=h,g.loaded=!0,f||d.load(e,c)}}a={base:'',remoteBase:{},remoteSeparator:':',charset:'utf-8',version:+new Date,debug:!1,entrances:{}},b={},i=document.querySelector('head'),h=!1,d={reBase:function(c){var b=c.indexOf(a.remoteSeparator);return b>0?a.remoteBase[c.substr(0,b)]+c.substr(b+1):''},fixUseModPath:function(d){var e=d.length,b;for(var c=0;c<e;c++)b=d[c],b.indexOf(a.remoteSeparator)===-1&&(b.indexOf('./')===0?d[c]=b.substr(1):b[0]!=='/'&&(d[c]='/'+b));return d},checkAllDownloaded:function(){var a=0;for(var c in b)b[c].loaded||a++;return a},load:function(c,e){typeof c==='string'&&(c=[c]),c.forEach(function(f){if(b[f])return;var c=document.createElement('script');c.type='text/javascript',c.async='true',c.charset=a.charset;var h=d.reBase(f),g=[h||a.base+f,'?m=1&',a.version].join('');a.debug&&(g+='&ref='+e),c.src=g,i.appendChild(c),b[f]={exports:{},loaded:!1,fired:!1}}),d.checkAllDownloaded()===0&&d.startAppAndCallback()},fireModule:function(c){var a=b[c];return a?(a.fired||(a.fired=!0,a.exports=a.fn.apply(g,[a,a.exports,n,o])),a.exports):void 0},startAppAndCallback:function(){if(h)return;h=!0;var c=a.entrances,e,f;for(e in c)f=e.split(','),f.forEach(function(f){var a=0;d.fireModule(f),c[e].forEach(function(d){var c=d(b[f].exports);c&&a++}),c[e].length===a&&delete c[e]});h=!1}},c.init=function(d){if(d.base&&d.base!=='/'&&(a.base=d.base.replace(/\/$/,'')),d.remoteBase)for(var e in d.remoteBase)a.remoteBase[e]=d.remoteBase[e].replace(/\/$/,'');return d.charset&&(a.charset=d.charset),d.version&&(a.version=d.version),d.debug&&(a.debug=d.debug,c.cache=b),this},c.use=function(b,c,e){if(!b)throw new Error('Cube.use(moduleName) moduleName is undefined!');return c=c||m,typeof b==='string'&&(b=[b]),e||(b=d.fixUseModPath(b)),d.load(b,'Cube.use'),a.entrances[b]||(a.entrances[b]=[]),a.entrances[b].push(function(a,d){return a=[],d=b.length,function(b){return a.push(b),a.length===d?(c.apply(g,a),!0):void 0}}()),d.checkAllDownloaded()===0&&d.startAppAndCallback(),this},c.register=function(a,c){return b[a]?console.error('module already registered:',a):(b[a]={exports:c,fn:m,loaded:!0,fired:!0},this)},l=/([^};]+)(\{[^}]+\})/g,j={},c.css=function(b,c,e){if(!b)return;var d=e+'@'+c;if(j[d])return;j[d]=!0,c&&(b=b.replace(l,function(e,b,d){var a=b.split(',').map(function(a){return c+' '+a.trim()});return a.join(',')+d}));var a=document.createElement('style');return a.setAttribute('type','text/css'),a.setAttribute('mod',e),c&&a.setAttribute('ns',c),i.appendChild(a),a.innerHTML=b,b},e=e||'Cube',g[e]?console.log('window.'+e+' already in using, replace the last "null" param in cube.js'):g[e]=c,k=document.currentScript,k&&(f=k.dataset,f.base&&(c.init(f),c.use(f.main||'index.js',function(a){a.run&&a.run()})))}(window,null)