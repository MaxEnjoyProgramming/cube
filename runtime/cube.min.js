/*!
 * Cube v2.0.0-alpha.7
 */
!function(g,e,a,b,i,h,c,l,j,k,f){function m(){}function n(a,e){if(arguments.length===1)return c.fireModule(a);var b=c.fireModule(a);d.css(b,e,a)}function o(c,a,b){arguments.length===2&&typeof a==='function'?(b=a,a=null,d.use(c,b)):d.use(c,function(e){e=d.css(e,a,c),b&&b(e)})}function d(a,d,g){var e=!1;if(arguments.length===3){b[a]||(b[a]={exports:{},loaded:!1,fired:!1},e=!0,d.length&&console.info('Cube '+d+' should exist.'));var f=b[a];f.fn=g,f.loaded=!0,e||c.load(d,a)}}a={base:'',remoteBase:{},remoteSeparator:':',charset:'utf-8',version:+new Date,debug:!1,entrances:{}},b={},i=document.querySelector('head'),h=!1,c={reBase:function(c){var b=c.indexOf(a.remoteSeparator);return b>0?a.remoteBase[c.substr(0,b)]+c.substr(b+1):''},fixUseModPath:function(b){typeof b==='string'&&(b=[b]);var e=b.length,c;for(var d=0;d<e;d++)c=b[d],c.indexOf(a.remoteSeparator)===-1&&(c.indexOf('./')===0?b[d]=c.substr(1):c[0]!=='/'&&(b[d]='/'+c));return b},checkAllDownloaded:function(){var a=0;for(var c in b)b[c].loaded||a++;return a},load:function(d,e){typeof d==='string'&&(d=[d]),d.forEach(function(f){if(b[f])return;var d=document.createElement('script');d.type='text/javascript',d.async='true',d.charset=a.charset;var h=c.reBase(f),g=[h||a.base+f,'?m=1&',a.version].join('');a.debug&&(g+='&ref='+e),d.src=g,i.appendChild(d),b[f]={exports:{},loaded:!1,fired:!1}}),c.checkAllDownloaded()===0&&c.startAppAndCallback()},fireModule:function(c){var a=b[c];return a?(a.fired||(a.fired=!0,a.exports=a.fn.apply(g,[a,a.exports,n,o])),a.exports):void 0},startAppAndCallback:function(){if(h)return;h=!0;var d=a.entrances,e,f;for(e in d)f=e.split(','),f.forEach(function(f){var a=0;c.fireModule(f),d[e].forEach(function(d){var c=d(b[f].exports);c&&a++}),d[e].length===a&&delete d[e]});h=!1}},d.init=function(b){if(b.base&&b.base!=='/'&&(a.base=b.base.replace(/\/$/,'')),b.remoteBase)for(var c in b.remoteBase)a.remoteBase[c]=b.remoteBase[c].replace(/\/$/,'');return b.charset&&(a.charset=b.charset),b.version&&(a.version=b.version),b.debug&&(a.debug=b.debug),this},d.use=function(b,d){if(!b)throw new Error('Cube.use(moduleName) moduleName is undefined!');return d=d||m,b=c.fixUseModPath(b),c.load(b,'Cube.use'),a.entrances[b]||(a.entrances[b]=[]),a.entrances[b].push(function(a,c){return a=[],c=b.length,function(b){return a.push(b),a.length===c?(d.apply(g,a),!0):void 0}}()),c.checkAllDownloaded()===0&&c.startAppAndCallback(),this},d.register=function(a,c){return b[a]?console.error('module already registered:',a):(b[a]={exports:c,fn:m,loaded:!0,fired:!0},this)},l=/([^};]+)(\{[^}]+\})/g,j={},d.css=function(b,c,e){if(!b)return;var d=e+'@'+c;if(j[d])return;j[d]=!0,c&&(b=b.replace(l,function(e,b,d){var a=b.split(',').map(function(a){return c+' '+a.trim()});return a.join(',')+d}));var a=document.createElement('style');return a.setAttribute('type','text/css'),a.setAttribute('mod',e),c&&a.setAttribute('ns',c),i.appendChild(a),a.innerHTML=b,b},e=e||'Cube',g[e]?console.log('window.'+e+' already in using, replace the last "null" param in cube.js'):g[e]=d,k=document.currentScript,k&&(f=k.dataset,f.base&&(d.init(f),d.use(f.main||'index.js',function(a){a.run&&a.run()})))}(window,null)