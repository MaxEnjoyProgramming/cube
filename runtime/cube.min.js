/*!
 * Cube v2.0.0-alpha.7
 */
!function(g,e,a,c,h,f,b,j,i){function k(){}function l(a,e){if(arguments.length===1)return b.fireModule(a);var c=b.fireModule(a);d.css(c,e,a)}function m(c,a,b){arguments.length===2&&typeof a==='function'?(b=a,a=null,d.use(c,b)):d.use(c,function(e){e=d.css(e,a,c),b&&b(e)})}function d(a,d,g){var e=!1;if(arguments.length===3){c[a]||(c[a]={exports:{},loaded:!1,fired:!1},e=!0,d.length&&console.info('Cube '+d+' should exist.'));var f=c[a];f.fn=g,f.loaded=!0,e||b.load(d,a)}}a={base:'',remoteBase:{},remoteSeparator:':',charset:'utf-8',version:+new Date,debug:!1,entrances:{}},c={},h=document.querySelector('head'),f=!1,b={reBase:function(c){var b=c.indexOf(a.remoteSeparator);return b>0?a.remoteBase[c.substr(0,b)]+c.substr(b+1):''},fixUseModPath:function(b){typeof b==='string'&&(b=[b]);var e=b.length,c;for(var d=0;d<e;d++)c=b[d],c.indexOf(a.remoteSeparator)===-1&&(c.indexOf('./')===0?b[d]=c.substr(1):c[0]!=='/'&&(b[d]='/'+c));return b},checkAllDownloaded:function(){var a=0;for(var b in c)c[b].loaded||a++;return a},load:function(d,e){typeof d==='string'&&(d=[d]),d.forEach(function(f){if(c[f])return;var d=document.createElement('script');d.type='text/javascript',d.async='true',d.charset=a.charset;var i=b.reBase(f),g=[i||a.base+f,'?m=1&',a.version].join('');a.debug&&(g+='&ref='+e),d.src=g,h.appendChild(d),c[f]={exports:{},loaded:!1,fired:!1}}),b.checkAllDownloaded()===0&&b.startAppAndCallback()},fireModule:function(b){var a=c[b];return a?(a.fired||(a.fired=!0,a.exports=a.fn.apply(g,[a,a.exports,l,m])),a.exports):void 0},startAppAndCallback:function(){if(f)return;f=!0;var d=a.entrances,e,g;for(e in d)g=e.split(','),g.forEach(function(f){var a=0;b.fireModule(f),d[e].forEach(function(d){var b=d(c[f].exports);b&&a++}),d[e].length===a&&delete d[e]});f=!1}},d.init=function(b){if(b.base&&b.base!=='/'&&(a.base=b.base.replace(/\/$/,'')),b.remoteBase)for(var c in b.remoteBase)a.remoteBase[c]=b.remoteBase[c].replace(/\/$/,'');return b.charset&&(a.charset=b.charset),b.version&&(a.version=b.version),b.debug&&(a.debug=b.debug),this},d.use=function(c,d){if(!c)throw new Error('Cube.use(moduleName) moduleName is undefined!');return d=d||k,c=b.fixUseModPath(c),b.load(c,'Cube.use'),a.entrances[c]||(a.entrances[c]=[]),a.entrances[c].push(function(a,b){return a=[],b=c.length,function(c){return a.push(c),a.length===b?(d.apply(g,a),!0):void 0}}()),b.checkAllDownloaded()===0&&b.startAppAndCallback(),this},d.register=function(a,b){return c[a]?console.error('module already registered:',a):(c[a]={exports:b,fn:k,loaded:!0,fired:!0},this)},j=/([^};]+)(\{[^}]+\})/g,i={},d.css=function(b,c,e){if(!b)return;var d=e+'@'+c;if(i[d])return;i[d]=!0,c&&(b=b.replace(j,function(e,b,d){var a=b.split(',').map(function(a){return c+' '+a.trim()});return a.join(',')+d}));var a=document.createElement('style');return a.setAttribute('type','text/css'),a.setAttribute('mod',e),c&&a.setAttribute('ns',c),h.appendChild(a),a.innerHTML=b,b},e=e||'Cube',g[e]?console.log('window.'+e+' already in using, replace the last "null" param in cube.js'):g[e]=d}(window,null)